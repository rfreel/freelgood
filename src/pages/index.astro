---
import BaseLayout from "../layouts/BaseLayout.astro";
import ChapterCard from "../components/ChapterCard.astro";
import { getChaptersIndex } from "../lib/content";

const chapters = (await getChaptersIndex()).filter(
  (chapter) => chapter.status === "published",
);
const featured = chapters.slice(0, 2);
---
<BaseLayout>
  <section class="hero">
    <div class="container">
      <h1>Make the web feel knowable.</h1>
      <p class="muted">
        A chapter-based manual for the curious builder. Use âŒ˜K to search, toggle
        reader mode, and switch between soot and sepia themes.
      </p>
    </div>
  </section>

  <section class="grid two">
    {featured.map((chapter) => (
      <ChapterCard chapter={chapter} />
    ))}
  </section>
</BaseLayout>
